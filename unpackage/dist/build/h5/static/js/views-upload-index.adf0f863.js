(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views-upload-index"],{"01c8":function(t,e,i){"use strict";i.r(e);var n=i("f009"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"0ecc":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={ccIcon:i("b2bc").default,ccToast:i("56d6").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.imgList.length?i("v-uni-view",{staticClass:"cc-upload"},t._l(t.imgList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"cc-upload-list-item"},[i("v-uni-image",{staticClass:"cc-upload-list-item-img",attrs:{src:e.url,mode:t.imageMode},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.preview(e,n)}}}),t.deletable?i("v-uni-view",{staticClass:"cc-upload-list-item-delete",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.del(e,n)}}},[i("cc-icon",{staticClass:"cc-upload-list-item-delete-icon",attrs:{type:"closeempty",size:"12",color:"#fff"}})],1):t._e()],1)})),1):t._e(),i("v-uni-view",{staticClass:"cc-upload-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload.apply(void 0,arguments)}}},[t.$slots.default?t._t("default"):i("v-uni-view",{staticClass:"cc-upload-add"},[i("cc-icon",{attrs:{type:t.uploadButtonIcon,size:t.uploadButtonSize}}),t.uploadButtonText?i("v-uni-view",{staticClass:"cc-upload-add-text"},[t._v(t._s(t.uploadButtonText))]):t._e()],1)],2),i("cc-toast",{ref:"toast"})],1)},o=[]},"1d9d":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={ccIcon:i("b2bc").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showToast?i("v-uni-view",{ref:"cToast",staticClass:"cc-toast"},[i("v-uni-view",{staticClass:"cc-toast-content",style:{background:t.bgColor,top:t.top}},[t.iconValue?i("v-uni-view",{staticClass:"cc-toast-icon",class:{loading:t.isLoading}},[i("cc-icon",{attrs:{type:t.iconValue,color:"#fff",size:"14"}})],1):t._e(),i("v-uni-view",[t._v(t._s(t.text))])],1)],1):t._e()},o=[]},2766:function(t,e,i){"use strict";i.r(e);var n=i("36b7"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"36b7":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"cc-toast",components:{},props:{},data:function(){return{showToast:!1,text:"",bgColor:"",timer:null,iconValue:"",top:"",isLoading:!1}},methods:{show:function(t){var e=this;this.showToast=!0;var i=t.title,n=t.type,a=void 0===n?"info":n,o=t.icon,c=void 0===o||o,s=t.customIcon,r=void 0===s?"":s,u=t.loading,l=void 0!==u&&u,d=t.duration,f=void 0===d?2e3:d,p=t.position,m=void 0===p?"center":p,v=t.url,h=void 0===v?"":v,b=t.back,g=void 0!==b&&b,w=(t.query,t.callback);"top"===m&&(this.top="30%"),"bottom"===m&&(this.top="70%"),"center"===m&&(this.top="50%"),"primary"===a&&(this.bgColor="#0081ff",r?this.iconValue=r:l?(this.iconValue="spinner-cycle",this.isLoading=!0):this.iconValue=""),"success"===a&&(this.bgColor="#39b54a",r?this.iconValue=r:l?(this.iconValue="spinner-cycle",this.isLoading=!0):this.iconValue=c?"checkbox":""),"error"===a&&(this.bgColor="#e54d42",r?this.iconValue=r:l?(this.iconValue="spinner-cycle",this.isLoading=!0):this.iconValue=c?"close":""),"warning"===a&&(this.bgColor="#f37b1d",r?this.iconValue=r:l?(this.iconValue="spinner-cycle",this.isLoading=!0):this.iconValue=c?"info":""),"info"===a&&(this.bgColor="#333",r?this.iconValue=r:l?(this.iconValue="spinner-cycle",this.isLoading=!0):this.iconValue=""),this.text=i,this.timer=setTimeout((function(){e.showToast=!1,g?uni.navigateBack():h&&uni.navigateTo({url:"".concat(h)}),w&&w(),e.isLoading=!1}),f)}},mounted:function(){},destroyed:function(){this.timer=null,clearTimeout(this.timer)},onLoad:function(){},onShow:function(){},filters:{},computed:{},watch:{}};e.default=n},"44ca":function(t,e,i){var n=i("627b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("67c7fdc0",n,!0,{sourceMap:!1,shadowMode:!1})},"56d6":function(t,e,i){"use strict";i.r(e);var n=i("1d9d"),a=i("2766");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("a421");var c,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"15ed96f4",null,!1,n["a"],c);e["default"]=r.exports},"5d46":function(t,e,i){var n=i("9071");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("267d8551",n,!0,{sourceMap:!1,shadowMode:!1})},"5e08":function(t,e,i){"use strict";var n=i("eb8c"),a=i.n(n);a.a},"627b":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.cc-toast[data-v-15ed96f4]{position:fixed;top:0;bottom:0;left:0;right:0;z-index:999;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.cc-toast .cc-toast-content[data-v-15ed96f4]{position:absolute;font-size:14px;padding:%?20?% %?50?%;border-radius:%?4?%;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.cc-toast .cc-toast-content .cc-toast-icon[data-v-15ed96f4]{margin-right:%?8?%;position:relative;top:%?2?%}.loading[data-v-15ed96f4]{-webkit-animation:spin-data-v-15ed96f4 1s linear infinite;animation:spin-data-v-15ed96f4 1s linear infinite}@-webkit-keyframes spin-data-v-15ed96f4{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin-data-v-15ed96f4{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),t.exports=e},"89f5":function(t,e,i){"use strict";var n=i("5d46"),a=i.n(n);a.a},9071:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.container[data-v-57c2f272]{height:100vh}.container .demo[data-v-57c2f272]{margin-bottom:%?20?%}.container .demo-title[data-v-57c2f272]{padding:%?20?%}.container .demo-item[data-v-57c2f272]{margin-bottom:%?60?%;padding:%?40?%}.container .demo-item[data-v-57c2f272]:last-child{margin-bottom:0}',""]),t.exports=e},a421:function(t,e,i){"use strict";var n=i("44ca"),a=i.n(n);a.a},ae9c:function(t,e,i){"use strict";i.r(e);var n=i("0ecc"),a=i("f939");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("5e08");var c,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"6f274069",null,!1,n["a"],c);e["default"]=r.exports},bc97:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={ccUpload:i("ae9c").default,ccButton:i("b893").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"demo"},[i("v-uni-view",{staticClass:"demo-title"},[t._v("基础用法")]),i("v-uni-view",{staticClass:"demo-item"},[i("cc-upload",{attrs:{action:"http://localhost:3000/upload"},on:{uplpadSuccess:function(e){arguments[0]=e=t.$handleEvent(e),t.uplpadSuccess.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"demo"},[i("v-uni-view",{staticClass:"demo-title"},[t._v("自定义样式")]),i("v-uni-view",{staticClass:"demo-item"},[i("cc-upload",{attrs:{action:"http://localhost:3000/upload"}},[i("cc-button",{attrs:{type:"primary",round:!0,size:"small"}},[t._v("点击上传")])],1)],1)],1)],1)},o=[]},c1a3:function(t,e,i){"use strict";i.r(e);var n=i("bc97"),a=i("01c8");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("89f5");var c,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"57c2f272",null,!1,n["a"],c);e["default"]=r.exports},c1d6:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.cc-upload[data-v-6f274069]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.cc-upload-list-item[data-v-6f274069]{width:%?160?%;height:%?160?%;background:#f7f7f7;border-radius:%?12?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin:0 %?20?% %?20?% %?20?%;position:relative}.cc-upload-list-item-img[data-v-6f274069]{width:%?120?%;height:%?120?%}.cc-upload-list-item-delete[data-v-6f274069]{position:absolute;top:0;right:0;width:14px;height:14px;background-color:rgba(0,0,0,.7);border-radius:0 0 0 12px;z-index:999}.cc-upload-list-item-delete-icon[data-v-6f274069]{position:relative;top:%?-2?%;left:%?4?%}.cc-upload-add[data-v-6f274069]{width:%?160?%;height:%?160?%;background:#f7f7f7;border-radius:%?12?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;font-size:12px;margin:0 %?20?% %?20?% %?20?%}.cc-upload-add-text[data-v-6f274069]{margin-top:%?10?%}',""]),t.exports=e},c7d1:function(t,e,i){"use strict";i("caad"),i("a15b"),i("d81d"),i("45fc"),i("a434"),i("a9e3"),i("ac1f"),i("2532"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={components:{},props:{action:{type:String,default:""},maxCount:{type:[Number,String],default:99},imageMode:{type:String,default:"aspectFill"},header:{type:Object,default:function(){}},name:{type:String,default:"file"},sizeType:{type:Array,default:function(){return["original","compressed"]}},sourceType:{type:Array,default:function(){return["album","camera"]}},isPreview:{type:Boolean,default:!0},deletable:{type:Boolean,default:!0},maxSize:{type:[Number,String],default:Number.MAX_VALUE},fileList:{type:Array,default:function(){return[]}},limitType:{type:Array,default:function(){return["png","jpg","jpeg","webp","gif"]}},formData:{type:Object,default:function(){}},uploadButtonText:{type:String,default:"选择图片"},uploadButtonIcon:{type:String,default:"plusempty"},uploadButtonSize:{type:[Number,String],default:"16"}},data:function(){return{imgList:this.fileList,percent:0,uploadTask:null}},methods:{upload:function(){var t=this;uni.chooseImage({count:this.maxCount,sizeType:this.sizeType,sourceType:this.sourceType,success:function(e){if("chooseImage:ok"===e.errMsg){var i=e.tempFiles,n=e.tempFilePaths;if(i.some((function(e){return e.size>t.maxSize})))return t.$refs.toast.show({title:"上传图片最大尺寸为".concat(t.maxSize,"kb"),type:"error"}),void i.map((function(e){e.size>t.maxSize&&t.$emit("oversize",{file:e,fileList:t.imgList})}));i.map((function(e){t.limitType.includes(e.type.split("/")[1])||t.$refs.toast.show({title:"上传图片只支持".concat(t.limitType.join(","),"格式"),type:"error"})})),n.map((function(e){uni.showLoading({title:"上传中..."});var i={url:""};t.imgList.push(i),t.uploadTask=uni.uploadFile({url:t.action,filePath:e,name:t.name,formData:t.formData,header:t.header,success:function(n){"uploadFile:ok"===n.errMsg&&t.$emit("uplpadSuccess",{data:JSON.parse(n.data),statusCode:n.statusCode}),i.url=e},fail:function(e){t.$refs.toast.show({title:"上传失败",type:"error"}),t.$emit("uploadError",e),console.log(e)},complete:function(e){t.$emit("change",{data:JSON.parse(e.data),statusCode:e.statusCode}),uni.hideLoading()}})}))}else t.$refs.toast.show({title:"选择图片失败,请重新选择",type:"warning"}),t.$emit("chooseFail",err)},fail:function(t){console.log(t)}})},preview:function(t,e){this.isPreview&&(uni.previewImage({current:e,urls:this.imgList.map((function(t){return t.url}))}),this.$emit("preview",{item:t,index:e}))},del:function(t,e){this.imgList.splice(e,1),this.$emit("delete",{item:t,index:e})},clear:function(){this.imgList=[]},abort:function(){this.uploadTask.abort()}},mounted:function(){},onLoad:function(){},onShow:function(){},filters:{},computed:{},watch:{imgList:{handler:function(t){this.$emit("listChange",t)},deep:!0}}};e.default=n},eb8c:function(t,e,i){var n=i("c1d6");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("485f0540",n,!0,{sourceMap:!1,shadowMode:!1})},f009:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={components:{},props:{},data:function(){return{fileList:[{url:"https://img01.yzcdn.cn/vant/leaf.jpg"},{url:"https://img01.yzcdn.cn/vant/sand.jpg"},{url:"https://img01.yzcdn.cn/vant/tree.jpg"}]}},methods:{uplpadSuccess:function(t){console.log("uplpadSuccess",t)}},mounted:function(){},onLoad:function(){},onShow:function(){},filters:{},computed:{},watch:{}};e.default=n},f939:function(t,e,i){"use strict";i.r(e);var n=i("c7d1"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a}}]);